{"version":3,"sources":["index.js","../node_modules/parcel-bundler/src/builtins/bundle-url.js","../node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["container","document","querySelector","seats","querySelectorAll","count","getElementById","total","movieSelect","populateUI","ticketPrice","value","setMovieData","movieIndex","moviePrice","localStorage","setItem","updateSelectedCount","selectedSeats","seatsIndex","map","seat","indexOf","JSON","stringify","console","log","selectedSeatsCount","length","innerText","parse","getItem","forEach","index","classList","add","selectedMovieIndex","selectedIndex","addEventListener","e","target","contains","toggle","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","i","module"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"..\\src","sourcesContent":["import \"./sass/main.scss\";\r\n\r\nconst container = document.querySelector(\".container\");\r\nconst seats = document.querySelectorAll(\".row .seat:not(.occupied)\");\r\nconst count = document.getElementById(\"count\");\r\nconst total = document.getElementById(\"total\");\r\nconst movieSelect = document.getElementById(\"movie\");\r\n\r\npopulateUI();\r\n\r\n// convert string to integer\r\nlet ticketPrice = +movieSelect.value;\r\n\r\n// console.log(typeof ticketPrice); //String\r\n\r\n// Save selected movie index and price\r\nfunction setMovieData(movieIndex, moviePrice) {\r\n  localStorage.setItem(\"selectedMovieIndex\", movieIndex);\r\n  localStorage.setItem(\"selectedMoviePrice\", moviePrice);\r\n}\r\n\r\n// Update total and count\r\nfunction updateSelectedCount() {\r\n  const selectedSeats = document.querySelectorAll(\".row .seat.selected\"); // Tjos will select all in Node List\r\n  //   console.log(selectedSeats); // shows NodeList\r\n\r\n  // Copy selected seats into array\r\n  // Map through array\r\n  // return a new array indexes\r\n  //   const seatsIndex = [...selectedSeats].map(function (seat) {\r\n  //     return [...seats].indexOf(seat);\r\n  //   });\r\n  const seatsIndex = [...selectedSeats].map((seat) => [...seats].indexOf(seat));\r\n\r\n  localStorage.setItem(\"selectedSeats\", JSON.stringify(seatsIndex));\r\n\r\n  console.log(seatsIndex);\r\n\r\n  const selectedSeatsCount = selectedSeats.length;\r\n  //   console.log(selectedSeatsCount); // Shows NodeList length\r\n\r\n  count.innerText = selectedSeatsCount;\r\n  total.innerText = selectedSeatsCount * ticketPrice;\r\n}\r\n\r\n// Get data from localStorage and populate UI\r\nfunction populateUI() {\r\n  const selectedSeats = JSON.parse(localStorage.getItem(\"selectedSeats\"));\r\n\r\n  if (selectedSeats !== null && selectedSeats.length > 0) {\r\n    seats.forEach((seat, index) => {\r\n      if (selectedSeats.indexOf(index) > -1) {\r\n        seat.classList.add(\"selected\");\r\n      }\r\n    });\r\n  }\r\n  //   console.log(selectedSeats);\r\n  const selectedMovieIndex = localStorage.getItem(\"selectedMovieIndex\");\r\n  if (selectedMovieIndex !== null) {\r\n    movieSelect.selectedIndex = selectedMovieIndex;\r\n  }\r\n}\r\n\r\n// Movie select event\r\nmovieSelect.addEventListener(\"change\", (e) => {\r\n  ticketPrice = +e.target.value;\r\n  setMovieData(e.target.selectedIndex, e.target.value);\r\n  updateSelectedCount();\r\n});\r\n\r\n// Seat click event\r\ncontainer.addEventListener(\"click\", (e) => {\r\n  //   console.log(e.target); // Show exact target list\r\n  if (\r\n    e.target.classList.contains(\"seat\") &&\r\n    !e.target.classList.contains(\"occupied\")\r\n  ) {\r\n    // console.log(e.target);\r\n    e.target.classList.toggle(\"selected\");\r\n\r\n    updateSelectedCount();\r\n  }\r\n});\r\n\r\n// Initial count and total set\r\nupdateSelectedCount();\r\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}