{"version":3,"sources":["index.js"],"names":["container","document","querySelector","seats","querySelectorAll","count","getElementById","total","movieSelect","populateUI","ticketPrice","value","setMovieData","movieIndex","moviePrice","localStorage","setItem","updateSelectedCount","selectedSeats","seatsIndex","map","seat","indexOf","JSON","stringify","console","log","selectedSeatsCount","length","innerText","parse","getItem","forEach","index","classList","add","selectedMovieIndex","selectedIndex","addEventListener","e","target","contains","toggle"],"mappings":";;;AAqFmB,aAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EArFnB,QAAA,oBAEA,IAAMA,EAAYC,SAASC,cAAc,cACnCC,EAAQF,SAASG,iBAAiB,6BAClCC,EAAQJ,SAASK,eAAe,SAChCC,EAAQN,SAASK,eAAe,SAChCE,EAAcP,SAASK,eAAe,SAE5CG,IAGA,IAAIC,GAAeF,EAAYG,MAK/B,SAASC,EAAaC,EAAYC,GAChCC,aAAaC,QAAQ,qBAAsBH,GAC3CE,aAAaC,QAAQ,qBAAsBF,GAI7C,SAASG,IACDC,IAAAA,EAAgBjB,SAASG,iBAAiB,uBAS1Ce,EAAa,EAAID,GAAeE,IAAI,SAACC,GAAS,OAAA,EAAIlB,GAAOmB,QAAQD,KAEvEN,aAAaC,QAAQ,gBAAiBO,KAAKC,UAAUL,IAErDM,QAAQC,IAAIP,GAENQ,IAAAA,EAAqBT,EAAcU,OAGzCvB,EAAMwB,UAAYF,EAClBpB,EAAMsB,UAAYF,EAAqBjB,EAIzC,SAASD,IACDS,IAAAA,EAAgBK,KAAKO,MAAMf,aAAagB,QAAQ,kBAEhC,OAAlBb,GAA0BA,EAAcU,OAAS,GACnDzB,EAAM6B,QAAQ,SAACX,EAAMY,GACff,EAAcI,QAAQW,IAAU,GAClCZ,EAAKa,UAAUC,IAAI,cAKnBC,IAAAA,EAAqBrB,aAAagB,QAAQ,sBACrB,OAAvBK,IACF5B,EAAY6B,cAAgBD,GAKhC5B,EAAY8B,iBAAiB,SAAU,SAACC,GACtC7B,GAAe6B,EAAEC,OAAO7B,MACxBC,EAAa2B,EAAEC,OAAOH,cAAeE,EAAEC,OAAO7B,OAC9CM,MAIFjB,EAAUsC,iBAAiB,QAAS,SAACC,GAGjCA,EAAEC,OAAON,UAAUO,SAAS,UAC3BF,EAAEC,OAAON,UAAUO,SAAS,cAG7BF,EAAEC,OAAON,UAAUQ,OAAO,YAE1BzB,OAKJA","file":"src.62bac5fd.js","sourceRoot":"..\\src","sourcesContent":["import \"./sass/main.scss\";\r\n\r\nconst container = document.querySelector(\".container\");\r\nconst seats = document.querySelectorAll(\".row .seat:not(.occupied)\");\r\nconst count = document.getElementById(\"count\");\r\nconst total = document.getElementById(\"total\");\r\nconst movieSelect = document.getElementById(\"movie\");\r\n\r\npopulateUI();\r\n\r\n// convert string to integer\r\nlet ticketPrice = +movieSelect.value;\r\n\r\n// console.log(typeof ticketPrice); //String\r\n\r\n// Save selected movie index and price\r\nfunction setMovieData(movieIndex, moviePrice) {\r\n  localStorage.setItem(\"selectedMovieIndex\", movieIndex);\r\n  localStorage.setItem(\"selectedMoviePrice\", moviePrice);\r\n}\r\n\r\n// Update total and count\r\nfunction updateSelectedCount() {\r\n  const selectedSeats = document.querySelectorAll(\".row .seat.selected\"); // Tjos will select all in Node List\r\n  //   console.log(selectedSeats); // shows NodeList\r\n\r\n  // Copy selected seats into array\r\n  // Map through array\r\n  // return a new array indexes\r\n  //   const seatsIndex = [...selectedSeats].map(function (seat) {\r\n  //     return [...seats].indexOf(seat);\r\n  //   });\r\n  const seatsIndex = [...selectedSeats].map((seat) => [...seats].indexOf(seat));\r\n\r\n  localStorage.setItem(\"selectedSeats\", JSON.stringify(seatsIndex));\r\n\r\n  console.log(seatsIndex);\r\n\r\n  const selectedSeatsCount = selectedSeats.length;\r\n  //   console.log(selectedSeatsCount); // Shows NodeList length\r\n\r\n  count.innerText = selectedSeatsCount;\r\n  total.innerText = selectedSeatsCount * ticketPrice;\r\n}\r\n\r\n// Get data from localStorage and populate UI\r\nfunction populateUI() {\r\n  const selectedSeats = JSON.parse(localStorage.getItem(\"selectedSeats\"));\r\n\r\n  if (selectedSeats !== null && selectedSeats.length > 0) {\r\n    seats.forEach((seat, index) => {\r\n      if (selectedSeats.indexOf(index) > -1) {\r\n        seat.classList.add(\"selected\");\r\n      }\r\n    });\r\n  }\r\n  //   console.log(selectedSeats);\r\n  const selectedMovieIndex = localStorage.getItem(\"selectedMovieIndex\");\r\n  if (selectedMovieIndex !== null) {\r\n    movieSelect.selectedIndex = selectedMovieIndex;\r\n  }\r\n}\r\n\r\n// Movie select event\r\nmovieSelect.addEventListener(\"change\", (e) => {\r\n  ticketPrice = +e.target.value;\r\n  setMovieData(e.target.selectedIndex, e.target.value);\r\n  updateSelectedCount();\r\n});\r\n\r\n// Seat click event\r\ncontainer.addEventListener(\"click\", (e) => {\r\n  //   console.log(e.target); // Show exact target list\r\n  if (\r\n    e.target.classList.contains(\"seat\") &&\r\n    !e.target.classList.contains(\"occupied\")\r\n  ) {\r\n    // console.log(e.target);\r\n    e.target.classList.toggle(\"selected\");\r\n\r\n    updateSelectedCount();\r\n  }\r\n});\r\n\r\n// Initial count and total set\r\nupdateSelectedCount();\r\n"]}